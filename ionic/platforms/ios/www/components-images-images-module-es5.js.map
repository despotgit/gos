{"version":3,"sources":["src/app/components/images/images.component.html","src/app/components/images/images-routing.module.ts","src/app/components/images/images.component.css","src/app/components/images/images.component.ts","src/app/components/images/images.module.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<app-toolbar></app-toolbar>\\n\\n<div class=\\\"container\\\" style=\\\"margin-top: 30px\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col s12 m4 l3\\\">\\n      <app-side></app-side>\\n    </div>\\n\\n    <div class=\\\"col s12 m8 l9\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col s6\\\">\\n          <div class=\\\"file-field input-field\\\">\\n            <div class=\\\"btn\\\">\\n              <span>File</span>\\n              <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploader\\\" (onFileSelected)=\\\"OnFileSelected($event)\\\">\\n            </div>\\n            <div class=\\\"file-path-wrapper\\\">\\n              <input class=\\\"file-path validate\\\" id=\\\"filePath\\\" type=\\\"text\\\">\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"col s6\\\">\\n          <div class=\\\"file-field input-field\\\">\\n            <a class=\\\"waves-effect waves-light btn\\\" (click)=\\\"Upload()\\\">\\n              <i class=\\\"material-icons left\\\">image</i>Upload Image\\n            </a>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col s12 m6 l4\\\" *ngFor=\\\"let image of images\\\">\\n          <div class=\\\"item-img-wrap imgDiv\\\">\\n            <img class=\\\"imgCircle\\\" src=\\\"http://res.cloudinary.com/dsg8eiomh/image/upload/v{{image.imgVersion}}/{{image.imgId}}\\\">\\n            <button class=\\\"btn imgBtn\\\" (click)=\\\"SetProfileImage(image)\\\">Set AS Profile</button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","import { ImagesComponent } from './images.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ImagesComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ImagesRoutingModule { }\n","export default \".item-img-wrap {\\n  position: relative;\\n  text-align: center;\\n  overflow: hidden;\\n}\\n\\n.item-img-wrap img {\\n  transition: all 200ms linear;\\n  width: 100%;\\n  height: 180px;\\n}\\n\\n.imgCircle {\\n  border-radius: 50%;\\n}\\n\\n.imgCircle {\\n  width: 160px !important;\\n  height: 160px !important;\\n  border-radius: 50%;\\n  margin: 0 auto !important;\\n}\\n\\n.imgBtn {\\n  margin: 0 auto !important;\\n  text-align: center !important;\\n  margin-top: 5px !important;\\n}\\n\\n.active {\\n  width: 350px !important;\\n  height: 350px !important;\\n  border-radius: none !important;\\n  margin: 50px 0px 0px 120px !important;\\n}\\n\\n@media only screen and (max-width: 480px) {\\n  .imgCircle {\\n    width: 140px !important;\\n    height: 140px !important;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9pbWFnZXMvaW1hZ2VzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUlFLDRCQUE0QjtFQUM1QixXQUFXO0VBQ1gsYUFBYTtBQUNmOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsdUJBQXVCO0VBQ3ZCLHdCQUF3QjtFQUN4QixrQkFBa0I7RUFDbEIseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLDZCQUE2QjtFQUM3QiwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsd0JBQXdCO0VBQ3hCLDhCQUE4QjtFQUM5QixxQ0FBcUM7QUFDdkM7O0FBRUE7RUFDRTtJQUNFLHVCQUF1QjtJQUN2Qix3QkFBd0I7RUFDMUI7QUFDRiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvaW1hZ2VzL2ltYWdlcy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLml0ZW0taW1nLXdyYXAge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLml0ZW0taW1nLXdyYXAgaW1nIHtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMjAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMjAwbXMgbGluZWFyO1xuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAyMDBtcyBsaW5lYXI7XG4gIHRyYW5zaXRpb246IGFsbCAyMDBtcyBsaW5lYXI7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDE4MHB4O1xufVxuXG4uaW1nQ2lyY2xlIHtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuXG4uaW1nQ2lyY2xlIHtcbiAgd2lkdGg6IDE2MHB4ICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMTYwcHggIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBtYXJnaW46IDAgYXV0byAhaW1wb3J0YW50O1xufVxuXG4uaW1nQnRuIHtcbiAgbWFyZ2luOiAwIGF1dG8gIWltcG9ydGFudDtcbiAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uYWN0aXZlIHtcbiAgd2lkdGg6IDM1MHB4ICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMzUwcHggIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogbm9uZSAhaW1wb3J0YW50O1xuICBtYXJnaW46IDUwcHggMHB4IDBweCAxMjBweCAhaW1wb3J0YW50O1xufVxuXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gIC5pbWdDaXJjbGUge1xuICAgIHdpZHRoOiAxNDBweCAhaW1wb3J0YW50O1xuICAgIGhlaWdodDogMTQwcHggIWltcG9ydGFudDtcbiAgfVxufVxuIl19 */\"","import { TokenService } from \"./../../services/token.service\";\nimport { UsersService } from \"./../../services/users.service\";\nimport { FileUploader } from \"ng2-file-upload\";\nimport { Component, OnInit } from \"@angular/core\";\nimport io from \"socket.io-client\";\n\nconst URL = \"http://localhost:3000/api/chatapp/upload-image\";\n\n@Component({\n    selector: \"app-images\",\n    templateUrl: \"./images.component.html\",\n    styleUrls: [\"./images.component.css\"]\n})\nexport class ImagesComponent implements OnInit {\n    uploader: FileUploader = new FileUploader({\n        url: URL,\n        disableMultipart: true\n    });\n    user: any;\n    selectedFile: any;\n    images = [];\n\n    socket: any;\n\n    constructor(private usersService: UsersService, private tokenService: TokenService) {\n        this.socket = io(\"http://localhost:3000\");\n    }\n\n    ngOnInit() {\n        this.user = this.tokenService.GetPayload();\n        this.GetUser();\n\n        this.socket.on(\"refreshPage\", () => {\n            this.GetUser();\n        });\n    }\n\n    GetUser() {\n        this.usersService.GetUserById(this.user._id).subscribe(\n            (data) => {\n                this.images = data.result.images;\n            },\n            (err) => console.log(err)\n        );\n    }\n\n    OnFileSelected(event) {\n        const file: File = event[0];\n\n        this.ReadAsBase64(file)\n            .then((result) => {\n                this.selectedFile = result;\n            })\n            .catch((err) => console.log(err));\n    }\n\n    Upload() {\n        if (this.selectedFile) {\n            this.usersService.AddImage(this.selectedFile).subscribe(\n                (data) => {\n                    this.socket.emit(\"refresh\", {});\n                    const filePath = <HTMLInputElement>document.getElementById(\"filePath\");\n                    filePath.value = \"\";\n                },\n                (err) => console.log(err)\n            );\n        }\n    }\n\n    SetProfileImage(image) {\n        this.usersService.SetDefaultImage(image.imgId, image.imgVersion).subscribe(\n            (data) => {\n                this.socket.emit(\"refresh\", {});\n            },\n            (err) => console.log(err)\n        );\n    }\n\n    ReadAsBase64(file): Promise<any> {\n        const reader = new FileReader();\n        const fileValue = new Promise((resolve, reject) => {\n            reader.addEventListener(\"load\", () => {\n                resolve(reader.result);\n            });\n\n            reader.addEventListener(\"error\", (event) => {\n                reject(event);\n            });\n\n            reader.readAsDataURL(file);\n        });\n\n        return fileValue;\n    }\n}\n","import { SharedModule } from './../../shared/shared.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ImagesRoutingModule } from './images-routing.module';\nimport { ImagesComponent } from './images.component';\n\n@NgModule({\n  declarations: [ImagesComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    ImagesRoutingModule\n  ]\n})\nexport class ImagesModule { }\n"],"sourceRoot":"webpack:///","file":"components-images-images-module-es5.js"}