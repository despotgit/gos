{"version":3,"sources":["src/app/tab4/tab4.page.html","src/app/tab4/tab4-routing.module.ts","src/app/tab4/tab4.module.ts","src/app/tab4/tab4.page.scss","src/app/tab4/tab4.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Tab 4\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-item>\\n      <ion-label position=\\\"floating\\\">User photo</ion-label>\\n      <ion-input [(ngModel)]=\\\"toUser\\\" (keyup)=\\\"$event.keyCode == 13 && takePicture()\\\"></ion-input>\\n      <ion-button color=\\\"success\\\" (click)=\\\"takePicture()\\\" slot=\\\"end\\\">Take</ion-button>\\n    </ion-item>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab4Page } from './tab4.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab4Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab3PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab4Page } from './tab4.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab3PageRoutingModule } from './tab4-routing.module'\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    RouterModule.forChild([{ path: '', component: Tab4Page }]),\n    Tab3PageRoutingModule,\n  ],\n  declarations: [Tab4Page]\n})\nexport class Tab4PageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjQvdGFiNC5wYWdlLnNjc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\nimport {ChatService} from '../services/chat.service';\nimport {MediaCapture, MediaFile, CaptureError, CaptureImageOptions} from '@ionic-native/media-capture/ngx';\nimport {File} from '@ionic-native/file/ngx';\nimport {Platform} from '@ionic/angular';\nimport {VideoPlayer} from '@ionic-native/video-player/ngx';\n\n@Component({\n    selector: 'app-tab4',\n    templateUrl: 'tab4.page.html',\n    styleUrls: ['tab4.page.scss']\n})\nexport class Tab4Page implements OnInit {\n    message: string; // input message from user\n    toUser: string;\n    fromUser: string;\n\n    constructor(private service: ChatService,\n                private camera: MediaCapture,\n                private file: File,\n                private platform: Platform) {\n    }\n\n    ngOnInit(): void {\n        console.log('init t4');\n        //  this.takePicture();\n    }\n\n    takePicture() {\n        let options: CaptureImageOptions = {limit: 1}\n        this.camera.captureVideo(options)\n            .then(\n                (data: MediaFile[]) => {\n                    console.log('video loads')\n                    var videoPath = data[0].fullPath; // limit = 1\n                    var base = videoPath.match(/.*\\//)[0];\n                    // if ios add file://\n                    if(this.platform.is('ios')){\n                        base = 'file://' + base;\n                    }\n                    var name = data[0].name;\n                    console.log(videoPath, base, name)\n                    this.file.readAsDataURL(base, name).then((file) => {\n                        var userFrom = localStorage.getItem('userName');\n                        console.log('user from localstorage ', userFrom);\n                        this.service.sendMessageImage({fromUser: userFrom, toUser: this.toUser, message: file});\n                    }).catch((err) => {\n                        console.log('err', JSON.stringify(err));\n                    });\n                },\n                (err: CaptureError) => {\n                    console.error(err)\n                }\n            );\n\n        // then((imageData) => {\n        //   console.log('photo enter...', imageData);\n        //   var base = imageData.match(/.*\\//)[0];\n        //   var name = imageData.replace(/^.*[\\\\\\/]/, '');\n        //   console.log(base, name);\n        //   this.file.readAsDataURL(base, name).then((file) => {\n        //     var userFrom = localStorage.getItem('userName');\n        //     console.log('user from localstorage ', userFrom);\n        //     this.service.sendMessageImage({ fromUser: userFrom, toUser: this.toUser, message: file });\n        //\n        //   }).catch((err) => {\n        //     console.log('err', err);\n        //   });\n        //   //console.log(base64Image);\n        // }, (err) => {\n        //   console.log(err);\n        //   // Handle error\n        // });\n    }\n\n}\n"],"sourceRoot":"webpack:///","file":"tab4-tab4-module-es5.js"}