{"version":3,"sources":["src/app/components/comments/comments.component.html","src/app/components/comments/comments-routing.module.ts","src/app/components/comments/comments.component.css","src/app/components/comments/comments.component.ts","src/app/components/comments/comments.module.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<app-toolbar></app-toolbar>\\n\\n<div class=\\\"container\\\" style=\\\"margin-top: 30px\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col s12 m4 l3\\\">\\n            <app-side></app-side>\\n        </div>\\n\\n        <div class=\\\"col s12 m8 l9\\\">\\n            <div class=\\\"col s12 m10\\\">\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"card\\\">\\n                        <ul class=\\\"collection\\\">\\n                            <li class=\\\"collection-item\\\">\\n                                <span class=\\\"post\\\">{{post}}</span>\\n                            </li>\\n                        </ul>\\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"card\\\">\\n                        <div class=\\\"card postDiv\\\">\\n                            <div class=\\\"card-content\\\">\\n                                <form [formGroup]=\\\"commmentForm\\\" (ngSubmit)=\\\"AddComment()\\\">\\n                                    <div class=\\\"formDiv\\\">\\n                                        <textarea formControlName=\\\"comment\\\" class=\\\"materialize-textarea\\\"></textarea>\\n                                        <button class=\\\"btn postBtn\\\" [disabled]=\\\"!commmentForm.valid\\\">\\n                                            Add Comment\\n                                        </button>\\n                                    </div>\\n                                </form>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <ul class=\\\"collection col s12 m10\\\" *ngFor=\\\"let comment of commentsArray\\\">\\n                <li class=\\\"collection-item avatar\\\">\\n                    <img class=\\\"circle\\\" src=\\\"http://placehold.it/50x50\\\">\\n                    <span class=\\\"title\\\">{{comment.username}}</span>\\n                    <p class=\\\"time\\\">{{TimeFromNow(comment.createdAt)}}</p>\\n                    <p class=\\\"postComment\\\">{{comment.comment}}</p>\\n                </li>\\n            </ul>\\n        </div>\\n    </div>\\n</div>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CommentsComponent } from './comments.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CommentsComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CommentsRoutingModule { }\n","export default \".postDiv {\\n  background-color: #64b5f6;\\n}\\n\\nform {\\n  background-color: #fff;\\n}\\n\\n.formDiv {\\n  margin: 0px 20px 0px 20px;\\n}\\n\\n.addImageBtn {\\n  margin-bottom: 5px;\\n}\\n\\n.postBtn {\\n  margin-bottom: 5px;\\n}\\n\\n.title {\\n  font-weight: bold;\\n  color: #64b5f6;\\n}\\n\\n.time {\\n  font-size: 14px;\\n  color: #666565;\\n}\\n\\n.postComment {\\n  font-size: 15px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jb21tZW50cy9jb21tZW50cy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGVBQWU7QUFDakIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2NvbW1lbnRzL2NvbW1lbnRzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucG9zdERpdiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM2NGI1ZjY7XG59XG5cbmZvcm0ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xufVxuXG4uZm9ybURpdiB7XG4gIG1hcmdpbjogMHB4IDIwcHggMHB4IDIwcHg7XG59XG5cbi5hZGRJbWFnZUJ0biB7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn1cblxuLnBvc3RCdG4ge1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi50aXRsZSB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzY0YjVmNjtcbn1cblxuLnRpbWUge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGNvbG9yOiAjNjY2NTY1O1xufVxuXG4ucG9zdENvbW1lbnQge1xuICBmb250LXNpemU6IDE1cHg7XG59XG4iXX0= */\"","import { PostService } from './../../services/post.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport io from 'socket.io-client';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-comments',\n  templateUrl: './comments.component.html',\n  styleUrls: ['./comments.component.css']\n})\nexport class CommentsComponent implements OnInit, AfterViewInit {\n  toolbarElement: any;\n  socket: any;\n\n  commmentForm: FormGroup;\n  postId: any;\n  commentsArray = [];\n  post: string;\n\n  constructor(private fb: FormBuilder, private postService: PostService, private route: ActivatedRoute) {\n    this.socket = io('http://localhost:3000');\n  }\n\n  ngOnInit() {\n    this.toolbarElement = document.querySelector('.nav-content');\n    this.postId = this.route.snapshot.paramMap.get('id');\n\n    this.init();\n\n    this.GetPost();\n    this.socket.on('refreshPage', data => {\n      this.GetPost();\n    });\n  }\n\n  init() {\n    this.commmentForm = this.fb.group({\n      comment: ['', Validators.required]\n    });\n  }\n\n  ngAfterViewInit() {\n    this.toolbarElement.style.display = 'none';\n  }\n\n  AddComment() {\n    this.postService.addComment(this.postId, this.commmentForm.value.comment).subscribe(data => {\n      this.socket.emit('refresh', {});\n      this.commmentForm.reset();\n    });\n  }\n\n  GetPost() {\n    this.postService.getPost(this.postId).subscribe(data => {\n      this.post = data.post.post;\n      this.commentsArray = data.post.comments.reverse();\n    });\n  }\n\n  TimeFromNow(time) {\n    return moment(time).fromNow();\n  }\n}\n","import { SharedModule } from './../../shared/shared.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CommentsRoutingModule } from './comments-routing.module';\nimport { CommentsComponent } from './comments.component';\n\n@NgModule({\n  declarations: [CommentsComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    CommentsRoutingModule\n  ]\n})\nexport class CommentsModule { }\n"],"sourceRoot":"webpack:///","file":"components-comments-comments-module-es5.js"}